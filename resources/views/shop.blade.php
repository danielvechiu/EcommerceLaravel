@extends('layout')

@section('content')
<div>
    <h5 class="font-extrabold underline text-center nunito my-4">categorie</h5>
    <div class="text-center">
        @foreach ($categories as $category)
        <a href="{{ route('products.index', ['category' => $category->slug]) }}"
            class="{{ getActiveClass($category->slug) }} rounded-full text-black text-xs mx-2 px-2 py-1">
            {{ $category->name }}
        </a>
        @endforeach
    </div>

    @foreach ($products as $product)
    <div style="border-radius: 30px; z-index: 0;" class="relative bg-product shadow-lg m-10 h-128 mb-24">
        <a href="{{ route('products.show', $product->slug)}}" class="absolute h-128 w-full"
            style="z-index: 2; left:0; top:0;"></a>
        {{-- heart icon --}}

        <form action="{{ route('favourites.store', $product) }}" method="POST">
            @csrf
            <div class="relative" style="left: 20px; top: 20px;"><button type="submit"><svg width="29" height="25"
                        viewBox="0 0 29 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M14.5 2.31812C13.0018 0.940516 11.0408 0.175937 9.00554 0.175873C7.92828 0.176994 6.86188 0.391142 5.8677 0.805992C4.87352 1.22084 3.9712 1.8282 3.21266 2.59312C-0.0227156 5.84225 -0.0213407 10.9242 3.21541 14.1596L13.2969 24.2411C13.5307 24.6522 13.9817 24.9176 14.5 24.9176C14.7129 24.9156 14.9223 24.8636 15.1114 24.7659C15.3005 24.6683 15.4641 24.5276 15.589 24.3552L25.7847 14.1596C29.0214 10.9229 29.0214 5.84225 25.7819 2.58762C25.0238 1.82411 24.1222 1.21798 23.129 0.804087C22.1357 0.390194 21.0705 0.176697 19.9945 0.175873C17.9593 0.176205 15.9984 0.940748 14.5 2.31812ZM23.8377 4.53187C25.9868 6.692 25.9882 10.0662 23.8404 12.2154L14.5 21.5557L5.15966 12.2154C3.01191 10.0662 3.01328 6.692 5.15691 4.53737C6.20191 3.49787 7.56866 2.92587 9.00554 2.92587C10.4424 2.92587 11.8037 3.49787 12.8404 4.53462L13.5279 5.22212C13.6555 5.34992 13.807 5.45131 13.9738 5.52049C14.1406 5.58967 14.3195 5.62527 14.5 5.62527C14.6806 5.62527 14.8594 5.58967 15.0262 5.52049C15.193 5.45131 15.3446 5.34992 15.4722 5.22212L16.1597 4.53462C18.2387 2.45975 21.7614 2.46525 23.8377 4.53187Z"
                            fill="#F8A778" />
                    </svg>
                </button>
            </div>
        </form>

        {{-- product image --}}
        <div class="pt-4"><img style="mix-blend-mode:darken;" src="{{ productImage($product->image) }}" alt=""></div>

        {{-- butonul de add to cart --}}
        <form action="{{ route('cart.store', $product) }}">
            <button style="z-index: 3;">
                <div style="top:100px; left:210px;" class="relative bg-orange-500 rounded-full w-12 h-12"><svg
                        class="relative" style="left: 11px; top: 11px;" width="26" height="24" viewBox="0 0 26 24"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M14.4444 13.3333V22.6667C14.4444 23.0203 14.2923 23.3594 14.0214 23.6095C13.7505 23.8595 13.3831 24 13 24C12.6169 24 12.2495 23.8595 11.9786 23.6095C11.7077 23.3594 11.5556 23.0203 11.5556 22.6667V13.3333H1.44444C1.06135 13.3333 0.693954 13.1929 0.423068 12.9428C0.152182 12.6928 0 12.3536 0 12C0 11.6464 0.152182 11.3072 0.423068 11.0572C0.693954 10.8071 1.06135 10.6667 1.44444 10.6667H11.5556V1.33333C11.5556 0.979711 11.7077 0.640573 11.9786 0.390524C12.2495 0.140476 12.6169 0 13 0C13.3831 0 13.7505 0.140476 14.0214 0.390524C14.2923 0.640573 14.4444 0.979711 14.4444 1.33333V10.6667H24.5556C24.9386 10.6667 25.306 10.8071 25.5769 11.0572C25.8478 11.3072 26 11.6464 26 12C26 12.3536 25.8478 12.6928 25.5769 12.9428C25.306 13.1929 24.9386 13.3333 24.5556 13.3333H14.4444Z"
                            fill="white" />
                    </svg>
                </div>
            </button>
        </form>

    </div>
    @endforeach

    {{-- filtre --}}
    <div class="shadow-filters pt-2 fixed w-full bg-filterstab h-12 mb-12" style="bottom: 0; left:0;">
        <div><svg class="mx-auto" width="11" height="7" viewBox="0 0 11 7" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M9.99994 6.5C9.86833 6.50076 9.73787 6.47554 9.61603 6.42577C9.49419 6.37601 9.38338 6.30268 9.28994 6.21L5.99994 2.9L2.69994 6.08C2.51258 6.26625 2.25912 6.37079 1.99494 6.37079C1.73075 6.37079 1.4773 6.26625 1.28994 6.08C1.19621 5.98704 1.12182 5.87644 1.07105 5.75458C1.02028 5.63272 0.994141 5.50201 0.994141 5.37C0.994141 5.23799 1.02028 5.10728 1.07105 4.98542C1.12182 4.86357 1.19621 4.75296 1.28994 4.66L5.28994 0.800002C5.47687 0.616775 5.72819 0.514145 5.98994 0.514145C6.25169 0.514145 6.50301 0.616775 6.68994 0.800002L10.6899 4.8C10.7837 4.89297 10.8581 5.00357 10.9088 5.12543C10.9596 5.24728 10.9857 5.37799 10.9857 5.51C10.9857 5.64201 10.9596 5.77272 10.9088 5.89458C10.8581 6.01644 10.7837 6.12704 10.6899 6.22C10.5046 6.39868 10.2574 6.49898 9.99994 6.5Z"
                    fill="#F8A778" />
            </svg>
        </div>

        <div class="flex justify-center mx-auto items-center">
            <p>filters</p>
            <svg width="13" height="10" viewBox="0 0 13 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0)">
                    <path
                        d="M3.875 9.32693V6.75756C4.52261 6.62849 5.0044 6.17913 5.0044 5.64115C5.0044 5.10318 4.52261 4.65382 3.875 4.52475L3.875 0.673079C3.875 0.513824 3.70703 0.384618 3.5 0.384618C3.29297 0.384618 3.125 0.513824 3.125 0.673079L3.125 4.52475C2.47739 4.65382 1.99561 5.10318 1.99561 5.64115C1.99561 6.17913 2.47739 6.62849 3.125 6.75756V9.32693C3.125 9.48618 3.29297 9.61539 3.5 9.61539C3.70703 9.61539 3.875 9.48618 3.875 9.32693ZM2.74561 5.64115C2.74561 5.32114 3.08398 5.06085 3.5 5.06085C3.91602 5.06085 4.25439 5.32114 4.25439 5.64115C4.25439 5.96117 3.91602 6.22146 3.5 6.22146C3.08398 6.22146 2.74561 5.96117 2.74561 5.64115Z"
                        fill="black" />
                    <path
                        d="M6.125 0.673079V1.29082C5.47739 1.41989 4.99561 1.86925 4.99561 2.40723C4.99561 2.94521 5.47739 3.39457 6.125 3.52363V9.32693C6.125 9.48618 6.29297 9.61539 6.5 9.61539C6.70703 9.61539 6.875 9.48618 6.875 9.32693V3.52363C7.52261 3.39457 8.00439 2.94521 8.00439 2.40723C8.00439 1.86925 7.52261 1.41989 6.875 1.29082V0.673079C6.875 0.513824 6.70703 0.384618 6.5 0.384618C6.29297 0.384618 6.125 0.513824 6.125 0.673079ZM7.25439 2.40723C7.25439 2.72724 6.91602 2.98753 6.5 2.98753C6.08398 2.98753 5.74561 2.72724 5.74561 2.40723C5.74561 2.08722 6.08398 1.82693 6.5 1.82693C6.91602 1.82693 7.25439 2.08722 7.25439 2.40723Z"
                        fill="black" />
                    <path
                        d="M9.125 0.673079V6.26226C8.47739 6.3913 7.99561 6.84063 7.99561 7.37831C7.99561 7.91629 8.47739 8.36565 9.125 8.49471V9.32693C9.125 9.48618 9.29297 9.61539 9.5 9.61539C9.70703 9.61539 9.875 9.48618 9.875 9.32693V8.49471C10.5226 8.36565 11.0044 7.91629 11.0044 7.37831C11.0044 6.84063 10.5226 6.3913 9.875 6.26226V0.673079C9.875 0.513824 9.70703 0.384618 9.5 0.384618C9.29297 0.384618 9.125 0.513824 9.125 0.673079ZM10.2544 7.37831C10.2544 7.69832 9.91602 7.95861 9.5 7.95861C9.08398 7.95861 8.74561 7.69832 8.74561 7.37831C8.74561 7.05867 9.08398 6.79838 9.5 6.79838C9.91602 6.79838 10.2544 7.05867 10.2544 7.37831Z"
                        fill="black" />
                </g>
                <defs>
                    <clipPath id="clip0">
                        <rect y="10" width="10" height="13" transform="rotate(-90 0 10)" fill="white" />
                    </clipPath>
                </defs>
            </svg>
        </div>

    </div>
</div>
@endsection